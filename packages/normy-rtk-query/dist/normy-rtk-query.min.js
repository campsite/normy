!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("@reduxjs/toolkit"),require("@normy/core")):"function"==typeof define&&define.amd?define(["@reduxjs/toolkit","@normy/core"],r):"object"==typeof exports?exports.NormyRtkQuery=r(require("@reduxjs/toolkit"),require("@normy/core")):e.NormyRtkQuery=r(e[void 0],e.Normy)}(self,((e,r)=>(()=>{"use strict";var t={700:e=>{e.exports=r},693:r=>{r.exports=e}},a={};function u(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,u),o.exports}u.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return u.d(r,{a:r}),r},u.d=(e,r)=>{for(var t in r)u.o(r,t)&&!u.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},u.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{u.r(o),u.d(o,{createNormalizationMiddleware:()=>n,getId:()=>r.getId,getNormalizer:()=>a});var e=u(693),r=u(700);function t(){return t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},t.apply(this,arguments)}var a=function(e){return e({type:"getNormalization"})},i=["api/executeMutation/fulfilled","api/executeQuery/fulfilled","api/queries/queryResultPatched","api/queries/removeQueryResult","getNormalization"],n=function(a,u){var o=(0,r.createNormalizer)(t({},u,{structuralSharing:!1})),n={};return function(r){return function(l){return function(y){var d,p,c;if(!function(r){return(0,e.isAction)(r)&&i.includes(r.type)}(y))return l(y);if("api/queries/queryResultPatched"===y.type&&(null==(d=null==u||null==u.normalizeQuery?void 0:u.normalizeQuery(y.payload.queryCacheKey))||d)){var s=l(y);return o.setQuery(y.payload.queryCacheKey,r.getState()[a.reducerPath].queries[y.payload.queryCacheKey].data),s}return"getNormalization"===y.type?t({},o,{setNormalizedData:function(e){o.getQueriesToUpdate(e).forEach((function(e){var t=e.queryKey.split("(")[0];r.dispatch(a.util.updateQueryData(t,n[e.queryKey],(function(){return e.data})))}))}}):("api/executeQuery/fulfilled"!==y.type||null!=(p=null==u||null==u.normalizeQuery?void 0:u.normalizeQuery(y.meta.arg.queryCacheKey))&&!p?"api/queries/removeQueryResult"===y.type?(o.removeQuery(y.payload.queryCacheKey),delete n[y.payload.queryCacheKey]):"api/executeMutation/fulfilled"!==y.type||null!=(c=null==u||null==u.normalizeMutation?void 0:u.normalizeMutation(y.meta.arg.endpointName))&&!c||o.getQueriesToUpdate(y.payload).forEach((function(e){var t=e.queryKey.split("(")[0];r.dispatch(a.util.updateQueryData(t,n[e.queryKey],(function(){return e.data})))})):(o.setQuery(y.meta.arg.queryCacheKey,y.payload),n[y.meta.arg.queryCacheKey]=y.meta.arg.originalArgs),l(y))}}}}})(),o})()));
//# sourceMappingURL=normy-rtk-query.min.js.map